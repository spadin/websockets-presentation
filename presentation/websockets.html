<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>WebSockets: What are they and how can I use them?</title>
    <meta name="description" content="What are WebSockets and how can I use them?">
    <meta name="author" content="Sandro Padin">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/beige.css" id="theme">
    <link rel="stylesheet" href="lib/css/solarized_light.css">

    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <style type="text/css" media="all">
      p.left {
        display: block !important;
        text-align: left;
      }
      p.right {
        display: block !important;
        text-align: right;
      }
    </style>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">
      <div class="slides">

        <section>
          <h1>WebSockets</h1>
          <h3>What are they and how can I use them?</h3>
          <p>
            <small>
              Presented by
              <a href="http://sa.ndropad.in">Sandro Padin</a> /
              <a href="http://twitter.com/sandropadin">@sandropadin</a>
            </small>
          </p>
        </section>

        <section>
          <h2>Before we begin</h2>
          <p>
            Visit <a href="http://bit.ly/wsdemo">bit.ly/wsdemo</a><br>
          </p>
        </section>

        <section>
          <section>
            <h2>What are WebSockets?</h2>

            <blockquote class="fragment" cite="http://en.wikipedia.org/wiki/WebSocket">
              <p class="left">&ldquo;A web technology providing full-duplex communication channels over a single TCP connection&rdquo;</p>
              <p class="right">&mdash; <a href="http://en.wikipedia.org/wiki/WebSocket">Wikipedia: WebSocket</a></p>
            </blockquote>

            <aside class="notes">
              <p>a web technology providing full-duplex communication channels over a single TCP connection</p>
            </aside>
          </section>

          <section>
            <h2>Other communication protocols</h2>
            <p>Hypertext Transfer Protocol (HTTP)</p>
            <p>File Transfer Protocol (FTP)</p>
            <p>BitTorrent</p>
            <p>Telnet</p>
            <p>SMTP</p>
            <p>IRCP</p>
            <p>many more...</p>
          </section>

          <section>
            <h2>What are WebSockets?</h2>
            <p class="fragment">Two main components</p>
          </section>

          <section>
            <h2>Server</h2>
            <p class="fragment">Manages clients</p>
            <p class="fragment">Emits messages to clients</p>
            <aside class="notes" data-markdown>
              <script type="text/template">
                The WebSockets protocol permits standard HTTP authentication headers to be exchanged during the handshake
              </script>
            </aside>
          </section>

          <section>
            <h2>Client</h2>
            <p class="fragment">Receives messages</p>
            <p class="fragment">Contains logic for dealing with messages</p>
          </section>
        </section>

        <section>
          <section>
            <h2>What can I do with WebSockets?</h2>
          </section>

          <section>
            <h2>Real-time collaboration</h2>
            <p>Writing</p>
            <p>Drawing</p>
            <p>Coding</p>
          </section>

          <section>
            <h2>Real-time collaboration</h2>
            <img src="resources/collaboration.png" alt="Collaboration software" />
          </section>

          <section>
            <h2>Instant feedback</h2>
            <p>Intergrate with live TV</p>
            <p>Connect people at events</p>
            <p>Live polling during current events</p>
            <aside class="notes" data-markdown>
              <script type="text/template">
                * Play along with game show
                * Vote on the next song at a concert
                * Gauge user sentiment on topics
              </script>
            </aside>
          </section>

          <section>
            <h2>What's your favorite color?</h2>
            <iframe width="600" height="400" style="width:600px; height: 400px;" src="http://websockets-presentation.herokuapp.com/color-report"></iframe><br>
            Visit <a href="http://bit.ly/wsdemo" target="_blank">bit.ly/wsdemo</a> to participate.
            <small><a href="http://websockets-presentation.herokuapp.com/color-report" target="_blank">&diams;</a></small>
          </section>
        </section>


        <section>
          <h2>What can't I do with WebSockets?</h2>
          <p>WebSockets don't hold state</p>
          <aside class="notes" data-markdown>
            <script type="text/template">
              Need to save state on server.
            </script>
          </aside>
        </section>

        <section>
          <section>
            <h2>Can I use WebSockets?</h2>
            <p class="fragment">Relatively new technology</p>
            <aside class="notes" data-markdown>
              <script type="text/template">
                Standardized in 2011
              </script>
            </aside>
          </section>
          <section>
            <h2>Browser support</h2>
            <iframe width="800" height="360" src="http://caniuse.com/websockets/embed/" frameborder="0"></iframe>
            <caption><small>source: <a target="_blank" href="http://caniuse.com/websockets">http://caniuse.com/websockets</a></small></caption>

          </section>
        </section>

        <section>
          <h2>What was previously used?</h2>
          <p class="fragment">Ajax polling</p>
          <p class="fragment">Long-lived connections</p>
          <p class="fragment">Flash sockets</p>
        </section>

        <section>
          <section>
            <h2>How do I use WebSockets?</h2>
          </section>
          <section data-markdown>
            <script type="text/template">
              ### In the browser

              ```
              var uri = "ws://example.org:8000/socket/server/endpoint";
              var socket = new WebSocket(uri);

              socket.onopen(function() {
                console.log("Connected");
              });

              socket.onclose(function() {
                console.log("Disconnected");
              });

              socket.onmessage(function(msg) {
                console.log("New message", msg);
              })
              ```
            </script>
          </section>

          <section>
            <h2>Service providers</h2>
            <ul>
              <li>Pusher</li>
              <li>PubNub</li>
              <li>Firepad</li>
            </ul>
          </section>

          <section>
            <h2>Server implementations</h2>
            <ul>
              <li>Node: Socket.io</li>
              <li>Ruby: em-websocket</li>
              <li>Clojure: Aleph</li>
              <li>.Net: SuperWebSocket</li>
              <li>Java: Jetty, Tomcat, etc..,</li>
            </ul>
          </section>

          <section>
            <h2>Framework/Platform</h2>
            <ul>
              <li>Meteor</li>
            </ul>
          </section>
        </section>

        <section>
          <h2>Can I do TDD with WebSockets?</h2>
          <p class="fragment">Ummm...</p>
          <p class="fragment">Avoid mixing application logic with communication logic</p>
          <p class="fragment">Mock third-party services</p>
          <p class="fragment">Good luck</p>

          <aside class="notes" data-markdown>
            <script type="text/template">
              * Online examples revolve around testing the backend from the front-end.
            </script>
          </aside>
        </section>

        <section>
          <h2>Example</h2>
          <div style="line-height: 400px; margin: 0 auto; width: 600px; height: 400px; border: 1px solid black;">
            TBD
          </div>
        </section>

        <section>
          <h2>Questions?</h2>
        </section>

        <section>
          <h2>Resources</h2>
          <p>
            <a href="http://tools.ietf.org/html/rfc6455" target="_blank">RFC 6455: The WebSocket Protocol</a><br>
            <a href="http://www.html5rocks.com/en/tutorials/websockets/basics/" target="_blank">Introducing WebSockets: Bringing Sockets to the Web</a><br>
            <a href="http://pusher.com/tutorials" target="_blank">Getting Started with Pusher</a>
          </p>
        </section>

        <section>
          <h2>Thank you</h2>
          <p>Slides available at:<br><a href="http://sa.ndropad.in/websockets-presentation" target="_blank">sa.ndropad.in/websockets-presentation</a></p>
        </section>

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
    </script>
  </body>
</html>
